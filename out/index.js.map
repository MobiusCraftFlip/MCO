{"version":3,"sources":["../src/index.js"],"sourcesContent":["require(\"dotenv\").config()\nconst express = require(\"express\");\nconst app = express();\nconst port = process.env.PORT || 8080;\nconst mongoose = require(\"mongoose\");\nconst passport = require(\"passport\");\nconst flash = require(\"connect-flash\");\nconst morgan = require(\"morgan\");\nconst cookieParser = require(\"cookie-parser\");\nconst bodyParser = require(\"body-parser\");\nconst session = require(\"express-session\");\nconst path = require(\"path\");\n\nconst User = require(\"./models/user.model\").default;\nconst dbConfig = require(\"./config/database.config\");\nconst { randomBytes } = require(\"crypto\");\n\n// Configuration\nmongoose.connect(dbConfig.url, {\n  useNewUrlParser: true\n});\nrequire(\"./config/passport.config\")(passport);\n\n// Express setup\napp.use(morgan(\"dev\"));\napp.use(cookieParser());\napp.use(bodyParser.urlencoded({\n  extended: true\n}));\napp.use(bodyParser.json());\napp.set(\"view engine\", \"ejs\");\napp.set('view options', {root: path.join(__dirname, \"..\",\"views\")});\n\napp.set(\"views\", path.join(__dirname, \"..\",\"views\"));\napp.use(express.static(__dirname + \"/../public\"));\n\n// Passport setup\napp.use(session({\n  secret: randomBytes(64).toString(\"base64\"),\n  resave: false,\n  saveUninitialized: false\n}));\napp.use(passport.initialize());\napp.use(passport.session());\napp.use(flash());\n\n// Routes\nrequire(\"./routes/routes\")(app, passport, User);\n\n// Launch server\napp.listen(port, () => console.log(`server started on port ${port}`));"],"names":["require","config","express","app","port","process","env","PORT","mongoose","passport","flash","morgan","cookieParser","bodyParser","session","path","User","default","dbConfig","randomBytes","connect","url","useNewUrlParser","use","urlencoded","extended","json","set","root","join","__dirname","static","secret","toString","resave","saveUninitialized","initialize","listen","console","log"],"mappings":"aAAAA,QAAQ,UAAUC,MAAM,GACxB,MAAMC,QAAUF,QAAQ,WACxB,MAAMG,IAAMD,UACZ,MAAME,KAAOC,QAAQC,GAAG,CAACC,IAAI,EAAI,KACjC,MAAMC,SAAWR,QAAQ,YACzB,MAAMS,SAAWT,QAAQ,YACzB,MAAMU,MAAQV,QAAQ,iBACtB,MAAMW,OAASX,QAAQ,UACvB,MAAMY,aAAeZ,QAAQ,iBAC7B,MAAMa,WAAab,QAAQ,eAC3B,MAAMc,QAAUd,QAAQ,mBACxB,MAAMe,KAAOf,QAAQ,QAErB,MAAMgB,KAAOhB,QAAQ,uBAAuBiB,OAAO,CACnD,MAAMC,SAAWlB,QAAQ,4BACzB,KAAM,CAAEmB,WAAW,CAAE,CAAGnB,QAAQ,UAGhCQ,SAASY,OAAO,CAACF,SAASG,GAAG,CAAE,CAC7BC,gBAAiB,IACnB,GACAtB,QAAQ,4BAA4BS,UAGpCN,IAAIoB,GAAG,CAACZ,OAAO,QACfR,IAAIoB,GAAG,CAACX,gBACRT,IAAIoB,GAAG,CAACV,WAAWW,UAAU,CAAC,CAC5BC,SAAU,IACZ,IACAtB,IAAIoB,GAAG,CAACV,WAAWa,IAAI,IACvBvB,IAAIwB,GAAG,CAAC,cAAe,OACvBxB,IAAIwB,GAAG,CAAC,eAAgB,CAACC,KAAMb,KAAKc,IAAI,CAACC,UAAW,KAAK,QAAQ,GAEjE3B,IAAIwB,GAAG,CAAC,QAASZ,KAAKc,IAAI,CAACC,UAAW,KAAK,UAC3C3B,IAAIoB,GAAG,CAACrB,QAAQ6B,MAAM,CAACD,UAAY,eAGnC3B,IAAIoB,GAAG,CAACT,QAAQ,CACdkB,OAAQb,YAAY,IAAIc,QAAQ,CAAC,UACjCC,OAAQ,MACRC,kBAAmB,KACrB,IACAhC,IAAIoB,GAAG,CAACd,SAAS2B,UAAU,IAC3BjC,IAAIoB,GAAG,CAACd,SAASK,OAAO,IACxBX,IAAIoB,GAAG,CAACb,SAGRV,QAAQ,mBAAmBG,IAAKM,SAAUO,MAG1Cb,IAAIkC,MAAM,CAACjC,KAAM,IAAMkC,QAAQC,GAAG,CAAC,CAAC,uBAAuB,EAAEnC,KAAK,CAAC"}